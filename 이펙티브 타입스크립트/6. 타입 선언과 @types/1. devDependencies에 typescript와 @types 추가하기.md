# 요약

- 타입스크립트를 글로벌로 설치하면 프로젝트마다 타입스크립트 버전이 다르거나 타입스크립트가 설치되어 있지 않은 환경에서 프로젝트를 실행할 때 문제가 발생할 수 있다.
- `@types` 의존성은 `devDependencies`에 추가한다. 하지만 런타임에 `@types` 의존성이 필요한 경우도 있다. 이에 대한 문제는 다음장에서 다룬다.

---

npm은 세 가지 종류의 의존성을 구분해서 관리한다.

- `dependencies`: 프로덕션 환경에서 필요한 의존성<br>
  프로젝트를 실행하는데 필요한 필수적인 라이브러리들이 포함된다.<br>
  런타임에 `lodash`가 사용된다면 `dependencies`에 추가한다. 프로젝트를 npm에 공개하여 다른 사용자가 해당 프로젝트를 설치한다면 `dependencies`에 있는 라이브러리들이 함께 설치된다. 이러한 현상을 `전이(transitive)`라고 한다.

- `devDependencies`: 개발 환경에서만 필요한 의존성<br>
  프로젝트를 개발하고 테스트하는데 사용 되지만, 런타임에는 필요 없는 라이브러리들이 포함된다. 예를 들어 테스트 프레임워크가 `devDependencies`에 포함된다. 프로젝트를 npm에 공개하여 다른 사용자가 해당 프로젝트를 설치한다면 `devDependencies`에 있는 라이브러리들은 함께 설치되지 않는다.

- `peerDependencies`: 의존성을 공유하는 패키지들 간의 의존성<br>
  런타임에 필요하긴 하지만, 의존성을 직접 관리하지 않는 라이브러리들이 포함된다.
  예를 들어 플러그인을 들 수 있다. 제이쿼리의 플러그인은 다양한 버전의 제이쿼리와 호환되어야 하기 때문에 제이쿼리를 `peerDependencies`에 추가한다.

세 가지 의존성 중에서는 `dependencies`와 `devDependencies`가 일반적으로 사용된다.

타입스크립트는 개발 도구일뿐 타입 정보는 런타임에 존재하지 않기 때문에 타입스크립트와 관련된 라이브러리는 일반적으로 `devDependencies`에 추가한다.

타입스크립트를 글로벌로 설치할 수도 있지만 추천되지 않는다. 글로벌로 설치하면 프로젝트마다 타입스크립트 버전이 다르거나 타입스크립트가 설치되어 있지 않은 환경에서 프로젝트를 실행할 때 문제가 발생할 수 있다.

따라서 타입스크립트는 `devDependencies`에 추가하는 것이 좋다.

라이브러리에 대한 타입 의존성을 추가할때도 마찬가지로 `devDependencies`에 추가한다.

```json
$ npm install react
$ npm install --save-dev @types/react

// 다음과 같이 package.json 파일에 추가됨
{
  "dependencies": {
    "react": "^17.0.2"
  },
  "devDependencies": {
    "@types/react": "^17.0.2"
  }
}
```

그러나 타입 의존성을 `devDependencies`에 추가하는 것이 항상 유효한 것은 아니다.
이에 대한 문제는 다음장에서 다룬다.
