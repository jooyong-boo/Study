# 요약

- `@types` 의존성과 관련된 세 가지 버전 (`라이브러리`, `타입 선언`, `타입스크립트`) 중 하나라도 맞지 않으면 오류가 발생할 수 있다.
- 라이브러리를 업데이트 할 경우 타입 선언도 함께 업데이트하는 것이 좋다.
- 타입스크립트로 작성된 라이브러리를 사용하는 것이 권장된다.

---

타입스크립트를 사용하면 세 가지 사항을 추가로 고려해야 한다.

- 라이브러리의 버전
- 타입 선언(`@types`)의 버전
- 타입스크립트의 버전

세 가지 버전 중 하나라도 맞지 않으면, 의존성과 상관없이 오류가 발생할 수 있다.

타입스크립트에서 일반적으로 의존성을 사용하는 방식은 다음과 같다.
특정 라비르러리를 `dependencies`에 추가하고, 타입 정보는 `devDependencies`에 추가한다.

```json
$ npm install react
$ npm install @types/react --save-dev

{
  "dependencies": {
    "react": "^16.8.6"
  },
  "devDependencies": {
    "@types/react": "^16.8.19"
  }
}
```

메이저 버전과 마이너 버전이 일치하지만 패치 버전(.6, .19)이 다르면 오류가 발생할 수 있다.<br>
시맨틱 버전 규칙을 제대로 지킨다고 가정하면 패치 버전에서는 공개 API의 사양을 변경하지 않는다.<br>
그러나 타입 선언 자체에도 버그나 누락이 존재할 수 있으며, `@types` 모듈의 패치는 이러한 문제를 해결하기 위한 것이다. 앞선 예제는 라이브러리보다 타입에 대해 더 많은 업데이트가 이루어졌다는 것을 의미한다.`(.6 대 .19)`

라이브러리와 타입 선언의 버전을 일치시키는 것이 좋다. 그러나 라이브러리의 버전이 낮아서 타입 선언의 버전을 맞출 수 없는 경우가 있다. 이런 경우에는 타입 선언의 버전을 낮추거나, 라이브러리의 버전을 높이는 방법이 있다.

타입 선언의 버전을 낮추는 경우에는 타입 선언의 버전을 명시적으로 지정하면 된다.

```json
{
  "dependencies": {
    "react": "^16.8.6"
  },
  "devDependencies": {
    "@types/react": "16.8.6"
  }
}
```

공식적인 권장사항은 타입스크립트로 작성된 라이브러리를 사용하는 것이다. 이 경우 타입 선언이 라이브러리와 함께 배포되므로 버전을 일치시키는 것이 쉽다.
